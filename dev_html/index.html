<!DOCTYPE html>
<html>
	<head>
		<title>TreeBay</title>
		<script type = "text/javascript" src = "./jquery-3.4.1.js"></script>		
		<link rel="stylesheet" type="text/css" href="./test.css">
		<script>
			$(document).ready( function(){
				$("div.slidecontainer span.pan").click( function(){
					var container = $(this).parent("div.slidecontainer");
					var kids = container.children("div");
					var firstchild = kids.first();
					
					var nkids = kids.length;
					var fullmv = firstchild.outerWidth();
					
					//alert(nkids);
					
					var vp_left = 0;
					var vp_right = container.outerWidth();
					
					var first_L_pos = firstchild.position().left;
					var	last_R_pos = (fullmv * nkids) + first_L_pos;
					
					var scrollleft = $(this).attr("class") == "pan panLeft";
					var mv = 0;
					
					//alert("LEFT? "+scrollleft+" | vp "+vp_left + " < " + vp_right + " | sp " + first_L_pos + " < " + last_R_pos + " | nk " + nkids );
					
					if(scrollleft){
						if( vp_left <= first_L_pos ){
							//We are at left end, do nothing
							mv = 0;
						} else if( vp_left <= (first_L_pos + fullmv) ){
							//We are within one width of the left end
							mv = vp_left - first_L_pos;
						} else {
							mv = fullmv;
						}
					} else {
						if( last_R_pos <= vp_right ){
							//We at right end, do nothing
							mv = 0;
						} else if( (last_R_pos - fullmv) <= vp_right ){
							//We are within a width... add 5 margin
							mv = last_R_pos - vp_right + 5;
						} else {
							mv = fullmv;
						}
						mv *= -1;
					}
					
					var new_p = first_L_pos + mv;
					
					kids.animate({left:new_p+"px"},"slow");					
				});
				
				/*
				// Get the header
				var header = document.getElementsByClassName("header").item(0);

				// Get the offset position of the navbar
				var sticky = header.offsetTop;
				
				// When the user scrolls the page, execute myFunction
				window.onscroll = function() {
				  if (window.pageYOffset > sticky) {
					header.classList.add("stickyheader");
				  } else {
					header.classList.remove("stickyheader");
				  }
				};
				*/
			});

		</script>
	</head>
	<body>	
		<div class="header">
			<span id="headerleft">
				<p>
					<strong>Home</strong> // 
					<a href="">About</a> // 
					<a href="">MyTreeBay</a>
				</p>
			</span>
			<span id="headercentre" >
				<h1>
					TreeBay
				</h1>
			</span>
			<span id="headerright">
				<p>
					<a href="">LOGIN/REGISTER</a>
				</p>
			</span>
		</div>
		
		<div id="main">
			<span id="mainbanner">
				<img src="./logo2.png" />
				<h1>TreeBay - Find a new home for your plants today!</h2>
			</span>
			
			<h3>Most recent</h3>
			<div class="slidecontainer" >
				<div><!-- class="slide"> -->
					<img src="./logo.jpg"/><!-- class="slideimg" -->
					<p>One<br />Maryhill, Glasgow</p><!-- class="slidecontent" -->
				</div><div>
					<img src="./logo.jpg" />
					<p>Two<br />Johnston, Glasgow</p>
				</div><div>
					<img src="./logo.jpg" />
					<p>Three<br />Johnston, Glasgow</p>
				</div><div>
					<img src="./logo.jpg" />
					<p>Four<br />Johnston, Glasgow</p>
				</div><div>
					<img src="./logo.jpg" />
					<p>Five<br />Amsterdam</p>
				</div><div>
					<img src="./logo.jpg" />
					<p>Six<br />Murano</p>
				</div>
				<span class="pan panLeft">
					<img src="./chevron_left-24px.svg" />
				</span>
				<span class="pan panRight">
					<img class="right" src="./chevron_right-24px.svg" />
				</span>
			</div>

			<h3>Latest added</h3>
			<div class="slidecontainer">
				<div>
					<img src="./logo.jpg" />
					<p>One<br />Maryhill, Glasgow</p>
				</div><div>
					<img src="./logo.jpg" />
					<p>Two<br />Johnston, Glasgow</p>
				</div><div>
					<img src="./logo.jpg" />
					<p>Three<br />Johnston, Glasgow</p>
				</div><div>
					<img src="./logo.jpg" />
					<p>Four<br />Johnston, Glasgow</p>
				</div><div>
					<img src="./logo.jpg" />
					<p>Five<br />Amsterdam</p>
				</div><div>
					<img src="./logo.jpg" />
					<p>Six<br />Murano</p>
				</div>
				<span class="pan panLeft" >
					<img src="./chevron_left-24px.svg" />
				</span>
				<span class="pan panRight">
					<img class="right" src="./chevron_right-24px.svg" />
				</span>
			</div>
			
			<h3>Most viewed</h3>
			<div class="slidecontainer">
				<div>
					<img src="./logo.jpg" />
					<p>One<br />Maryhill, Glasgow</p>
				</div><div>
					<img src="./logo.jpg" />
					<p>Two<br />Johnston, Glasgow</p>
				</div><div>
					<img src="./logo.jpg" />
					<p>Three<br />Johnston, Glasgow</p>
				</div><div>
					<img src="./logo.jpg" />
					<p>Four<br />Johnston, Glasgow</p>
				</div><div>
					<img src="./logo.jpg" />
					<p>Five<br />Amsterdam</p>
				</div><div>
					<img src="./logo.jpg" />
					<p>Six<br />Murano</p>
				</div>
				<span class="pan panLeft" >
					<img src="./chevron_left-24px.svg" />
				</span>
				<span class="pan panRight">
					<img class="right" src="./chevron_right-24px.svg" />
				</span>
			</div>
			
			<div id="sidebar" class="tagholder">
				<span>#potted</span><!-- class="tag" -->
				<span>#spikey</span>
				<span>#round</span>
				<span>#square</span>
				<span>#blue</span>
				<span>#shrt</span>
				<span>#especiallylongtag</span>
				<span>#lol</span>
				<span>#weed</span>
				<span>#weed</span>
				<span>#weed</span>
				<span>#weed</span>
				<span>#weed</span>
				<span>#weed</span>
				<span>#potted</span>
				<span>#spikey</span>
				<span>#round</span>
				<span>#square</span>
				<span>#blue</span>
				<span>#shrt</span>
				<span>#especiallylongtag</span>
				<span>#lol</span>
				<span>#weed</span>
				<span>#weed</span>
				<span>#weed</span>
				<span>#weed</span>
				<span>#weed</span>
				<span>#weed</span>
			</div>
			
			<div id="footer" >
				<hr />
				<p>Powered by Django</p>
			</div>
			
		</div>
	
	</body>
</html>